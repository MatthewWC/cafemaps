(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{133:function(e,t,a){e.exports=a(230)},230:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),i=a.n(o),l=a(3),c=a(55),m=a(42),s=a(21),u=a(110),f=a(43),d=a(123),p=a(122),g=a(113),E=new p.a,h=new d.a({uri:"https://104.248.235.48:8080/"}),b=Object(g.a)((function(e,t){var a=t.headers,n=localStorage.getItem("token");return{headers:Object(u.a)({},a,{authorization:n?"Bearer ".concat(n):""})}})),v=new f.a({cache:E,link:b.concat(h)}),N=a(11),S=a(12),y=a.n(S),x=a(267),O=a(19),j=a.n(O),w=a(69),C=a.n(w),$=a(280),k=a(264),U=a(232),I=a(233),F=a(270),R=a(269),L=a(28),T=a.n(L),z=function(e){var t=e;switch(t.name){case"Update Profile Form":Object.keys(t).forEach((function(e){if("text"===t[e].type&&T.a.isEmpty(t[e].value))throw new Error("Fields cannot be empty.");if("email"===t[e].name&&!1===T.a.isEmail(t[e].value))throw new Error("Thats not a real email.");if("text"===t[e].type&&""!==t[e].value&&!1===T.a.isAlphanumeric(t[e].value)&&"email"!==t[e].name)throw new Error("Fields can only contain letters A-Z & numbers 0-9.")}));break;case"Login Form":Object.keys(t).forEach((function(e){if("text"===t[e].type&&T.a.isEmpty(t[e].value))throw new Error("Fields cannot be empty.");if("email"===t[e].name&&!1===T.a.isEmail(t[e].value))throw new Error("Thats not a real email.")}));break;case"Register Form":if(Object.keys(t).forEach((function(e){if("text"===t[e].type&&T.a.isEmpty(t[e].value))throw new Error("Fields cannot be empty.");if("email"===t[e].name&&!1===T.a.isEmail(t[e].value))throw new Error("Thats not a real email.")})),t.confirmPassword.value!==t.password.value)throw new Error("Passwords do not match.");break;case"Create Store Form":case"Create Coffee Form":Object.keys(t).forEach((function(e){if("text"===t[e].type&&T.a.isEmpty(t[e].value))throw new Error("Fields cannot be empty")}));break;case"Update Store Form":Object.keys(t).forEach((function(e){if("text"===t[e].type&&T.a.isEmpty(t[e].value))throw new Error("Fields cannot be empty");if("email"===t[e].name&&!1===T.a.isEmail(t[e].value))throw new Error("Thats not a real email.")}));break;case"Update Coffee Form":Object.keys(t).forEach((function(e){if("text"===t[e].type&&T.a.isEmpty(t[e].value))throw new Error("Fields cannot be empty")}));break;default:throw new Error("Something bad happened. Contact support.")}},M=Object(k.a)((function(e){return{builderRoot:{maxWidth:"400px",marginTop:"80px"},paper:{padding:10,display:"flex",flexDirection:"column",textAlign:"center"},textField:{margin:5,width:"80%"},fileInput:{display:"none"},imageContainer:{marginTop:5,display:"flex",justifyContent:"center"},errors:{margin:e.spacing(2)}}}));var A=function(e){var t=e.formName,a=e.fields,n=e.imageUpload,o=void 0!==n&&n,i=e.mutation,l=e.props,c=e.defaultFields,m=void 0===c?"none":c,s=M(),u=r.a.useRef(),f=r.a.useRef(),d=r.a.useRef(),p=r.a.useRef();return r.a.createElement(x.a,{container:!0,justify:"center",className:s.builderRoot},r.a.createElement(U.a,{className:s.paper},r.a.createElement(I.a,null,t),o?r.a.createElement(x.a,{container:!0,className:s.imageContainer},r.a.createElement("label",null,r.a.createElement("img",{className:s.image,alt:"pic",src:m.imageUrl||"default_image.png",ref:f,width:"100px",height:"100px"}),r.a.createElement("input",{ref:d,className:s.fileInput,type:"file",accept:"image/*",onChange:function(e){!function(e){if(e.target.files[0]){var t=URL.createObjectURL(e.target.files[0]);f.current.src=t}}(e)}}))):null,r.a.createElement("form",{name:t,ref:u,className:s.formRoot},Object.keys(a).map((function(e){switch(a[e]){case"String":return r.a.createElement($.a,{key:e,className:s.textField,name:e,label:e,variant:"outlined",defaultValue:m[e]||"",InputLabelProps:{shrink:!0},type:"text"});case"Float":return r.a.createElement($.a,{key:e,className:s.textField,name:e,label:e,variant:"outlined",defaultValue:m[e]||"",inputProps:{step:"any"},InputLabelProps:{shrink:!0},type:"number",step:"any"});default:return null}})),r.a.createElement(R.a,{className:s.errors,ref:p,error:!0}),r.a.createElement(F.a,{onClick:function(){!function(e){var n,r,l,c,m,s;j.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(n={},p.current.innerHTML="",f.prev=2,z(u.current),Object.keys(a).map((function(e){switch(u.current[e].type){case"text":return n[e]=u.current[e].value;case"number":return n[e]=parseFloat(u.current[e].value);default:return null}})),!o||!d.current.files[0]){f.next=13;break}return r=new FormData,l={headers:{"Content-Type":"multipart/form-data"}},r.append("file",d.current.files[0]),f.next=11,j.a.awrap(C.a.post("http://localhost:4000/uploadAdmin",r,l));case 11:c=f.sent,n.imageUrl=c.data;case 13:return f.next=15,j.a.awrap(e.client.mutate({mutation:i,variables:n}));case 15:m=f.sent,"Login Form"===t&&(localStorage.setItem("token",m.data.login.token),localStorage.setItem("email",m.data.login.user.email),localStorage.setItem("role",m.data.login.user.role),e.history.push("/")),"Register Form"===t&&window.setTimeout((function(){return e.history.push("/")}),4e3),f.next=25;break;case 20:f.prev=20,f.t0=f.catch(2),console.log(f.t0),s=f.t0.toString().lastIndexOf(":")+1,p.current.innerHTML=f.t0.toString().substring(s,75);case 25:case"end":return f.stop()}}),null,null,[[2,20]])}(l)},variant:"contained"},"SUBMIT"))))};function D(){var e=Object(N.a)(["\n  mutation login($email: String!, $password: String!){\n    login(email: $email, password: $password){\n      token,\n      user{\n        email\n        role\n      }\n    }\n  }"]);return D=function(){return e},e}var P=function(e){return r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(A,{formName:"Login Form",fields:{email:"String",password:"String"},mutation:q,props:e}))},q=y()(D());function B(){var e=Object(N.a)(["\n  mutation register($email: String!, $password: String!){\n    register(email: $email, password: $password){\n      email\n    }\n  }"]);return B=function(){return e},e}var H=function(e){return r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement("h1",null,"TEST"),r.a.createElement(A,{formName:"Register Form",fields:{email:"String",password:"String",confirmPassword:"String"},imageUpload:!1,mutation:V,props:e}))},V=y()(B()),_=a(30);function W(){var e=Object(N.a)(["\n  query getUser($email: String!){\n    getUser(email: $email){\n      imageUrl\n      firstName \n      lastName\n      email\n    }\n  }\n"]);return W=function(){return e},e}var J=Object(k.a)((function(e){return{root:{display:"flex",height:"90vh",marginLeft:"auto",marginRight:"auto",maxWidth:"1024px",padding:"5%"},profile:{textAlign:"center"},imageContainer:{margin:"auto"},imageOuterContainer:{float:"left",textAlign:"center"},button:{margin:e.spacing(2)}}}));var Z=function(e){var t=J(),a=Object(_.a)(Y,{variables:{email:localStorage.getItem("email")}}),n=a.loading,o=a.error,i=a.data;return n?r.a.createElement("div",{className:t.root},r.a.createElement("h1",null,"Loading....")):o?r.a.createElement("div",{className:t.root},r.a.createElement("h1",null,"Something bad happend. Contact support.")):r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.imageOuterContainer},r.a.createElement("div",{className:t.imageContainer},r.a.createElement("img",{src:i.getUser.imageUrl||"profile_basic.png",alt:"profile",height:"auto",width:"100%"})),r.a.createElement(I.a,{variant:"h5"},"".concat(i.getUser.firstName||"User"," ").concat(i.getUser.lastName||"")),r.a.createElement(F.a,{className:t.button,variant:"contained",href:"/edit_profile"},"Edit Profile")))},Y=y()(W());function G(){var e=Object(N.a)(["\n  mutation updateUser($imageUrl: String, $firstName: String, $lastName: String){\n    updateUser(imageUrl: $imageUrl, firstName: $firstName, lastName: $lastName){\n      token \n      user{\n        imageUrl\n        firstName \n        lastName\n      }\n    }\n  }"]);return G=function(){return e},e}function K(){var e=Object(N.a)(["\n  query getUser($email: String!){\n    getUser(email: $email){\n      imageUrl\n      firstName \n      lastName\n      email\n    }\n  }"]);return K=function(){return e},e}var Q=function(e){var t=Object(_.a)(X,{variables:{email:localStorage.getItem("email")}}),a=t.loading,n=t.error,o=t.data;return a?r.a.createElement("div",null):n?r.a.createElement("div",null):(console.log(o),r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(A,{formName:"Update Profile Form",fields:{firstName:"String",lastName:"String",email:"String"},imageUpload:!0,mutation:ee,props:e,defaultFields:o.getUser})))},X=y()(K()),ee=y()(G()),te=a(35),ae=a(77),ne=a.n(ae);a(225);function re(){var e=Object(N.a)(["\n  query getStores{\n    getStores{\n      id\n      storeName\n      latitude\n      longitude\n      addressOne\n      phoneNumber\n      email\n      imageUrl\n    }\n  }"]);return re=function(){return e},e}var oe=Object(k.a)((function(e){return{map:{position:"absolute",right:0,left:0,top:0,bottom:0,overflow:"hidden"}}}));var ie=function(e){var t=e.client,a=e.onStoreMarkerClicked,o=oe(),i=r.a.createRef();return Object(n.useEffect)((function(){j.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:i.current=ne.a.map("map",{center:[10,10],zoom:12,zoomControl:!1,layers:[ne.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{detectRetina:!0,maxZoom:19})]},[]);case 1:case"end":return e.stop()}})).then((function(){return j.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.awrap(t.query({query:le}));case 2:e.sent.data.getStores.map((function(e){return ne.a.marker([e.latitude,e.longitude]).addTo(i.current).bindTooltip(e.storeName,{className:"myCSSClass",permanent:!0}).on("click",(function(){i.current.flyTo([e.latitude,e.longitude]),a(e)}))}));case 4:case"end":return e.stop()}}))}))}),[]),r.a.createElement("div",{className:o.map,id:"map"})},le=y()(re()),ce=a(272),me=a(273),se=a(274),ue=a(275),fe=a(276),de=a(277),pe=a(282),ge=a(271),Ee=Object(k.a)((function(e){return{storeInfoRoot:{padding:10,maxHeight:"60%",justifyContent:"center"},imageContainer:{margin:"auto",width:"150px",height:"150px"},title:{textDecoration:"underline",width:"100%",textAlign:"center"}}}));var he=function(e){var t=e.storeInfo,a=Ee();return console.log(t),t?r.a.createElement(x.a,{container:!0,className:a.storeInfoRoot},r.a.createElement(pe.a,{className:a.imageContainer,src:t.imageUrl||"",alt:"store"}),r.a.createElement(I.a,{className:a.title,variant:"h4"},t.storeName),r.a.createElement(ge.a,{raised:!0},r.a.createElement(ce.a,null,r.a.createElement(me.a,null,r.a.createElement(se.a,null),r.a.createElement(ue.a,null,r.a.createElement(fe.a,null,r.a.createElement(de.a,null,"Address"),r.a.createElement(de.a,null,t.addressOne)),r.a.createElement(fe.a,null,r.a.createElement(de.a,null,"Phone Number"),r.a.createElement(de.a,null,t.phoneNumber)),r.a.createElement(fe.a,null,r.a.createElement(de.a,null,"Email"),r.a.createElement(de.a,null,t.email))))))):r.a.createElement("div",null)},be=Object(k.a)((function(e){return{sideBar:{position:"absolute",top:"90px",left:"10px",width:"400px",height:"55%",zIndex:999}}}));var ve=function(e){var t=be();return r.a.createElement(x.a,{container:!0,className:t.sideBar},r.a.createElement(U.a,null,r.a.createElement(he,{storeInfo:e.storeInfo})))},Ne=Object(k.a)((function(e){return{coffeeInfoRoot:{padding:10,maxHeight:"60%",justifyContent:"center"},coffeeRoot:{textAlign:"center",margin:10},imageContainer:{margin:"auto",width:"150px",height:"150px"},title:{textDecoration:"underline"}}}));var Se=function(e){var t=e.coffeeInfo,a=Ne();return console.log(t),t?r.a.createElement(x.a,{container:!0,className:a.coffeeInfoRoot},r.a.createElement(I.a,{variant:"h4"},"Store Coffees"),t.data.getCoffees.map((function(e){return r.a.createElement(x.a,{className:a.coffeeRoot},r.a.createElement(pe.a,{className:a.imageContainer,src:e.imageUrl||"",alt:"store"}),r.a.createElement(I.a,{className:a.title},e.coffeeName),r.a.createElement(ge.a,{raised:!0},r.a.createElement(ce.a,null,r.a.createElement(me.a,null,r.a.createElement(se.a,null),r.a.createElement(ue.a,null,r.a.createElement(fe.a,null,r.a.createElement(de.a,null,"description"),r.a.createElement(de.a,null,e.description)))))))}))):r.a.createElement("div",null)},ye=Object(k.a)((function(e){return{coffeeBar:{position:"absolute",top:"90px",right:"10px",width:"400px",maxHeight:"60%",overflowY:"scroll",zIndex:999}}}));var xe=function(e){var t=ye();return r.a.createElement(x.a,{container:!0,className:t.coffeeBar},r.a.createElement(U.a,null,r.a.createElement(Se,{coffeeInfo:e.coffeeInfo})))},Oe=Object(k.a)((function(e){return{buttonRoot:{zIndex:999,position:"absolute",right:5,bottom:20},button:{}}}));var je=function(){var e=Oe();return r.a.createElement("div",{className:e.buttonRoot},r.a.createElement(F.a,{className:e.button,variant:"contained",href:"mailto:coffeemapsapp@gmail.com"},"Report A Problem"))};function we(){var e=Object(N.a)(["\n  query getCoffees($storeId: String!){\n    getCoffees(storeId: $storeId){\n      id\n      storeId\n      coffeeName\n      imageUrl\n      description\n    }\n  }"]);return we=function(){return e},e}var Ce=Object(k.a)((function(e){return{mapViewRoot:{display:"flex",flexDirection:"column",height:"100%"}}}));var $e=function(e){var t=Ce(),a=r.a.useState(null),n=Object(te.a)(a,2),o=n[0],i=n[1],l=r.a.useState(null),c=Object(te.a)(l,2),m=c[0],s=c[1],u=r.a.useState(!1),f=Object(te.a)(u,2),d=f[0],p=f[1];return r.a.createElement("div",{className:t.mapViewRoot},r.a.createElement(ie,{onStoreMarkerClicked:function(t){var a;return j.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return i(t),n.next=3,j.a.awrap(e.client.query({query:ke,variables:{storeId:t.id}}));case 3:a=n.sent,s(a),p(!d);case 6:case"end":return n.stop()}}))},client:e.client}),d?r.a.createElement(ve,{storeInfo:o}):null,d?r.a.createElement(xe,{coffeeInfo:m}):null,r.a.createElement(je,null))},ke=y()(we()),Ue=a(278),Ie=Object(k.a)((function(e){return{adminRoot:{padding:100},paper:{width:"100%"}}}));var Fe=function(){var e=Ie();return r.a.createElement(x.a,{container:!0,className:e.adminRoot},r.a.createElement(U.a,{className:e.paper},r.a.createElement(me.a,null,r.a.createElement(se.a,null,r.a.createElement(fe.a,null,r.a.createElement(de.a,null,"Admin Panel"))),r.a.createElement(ue.a,null,r.a.createElement(fe.a,null,r.a.createElement(de.a,null,r.a.createElement(Ue.a,{href:"/stores"},"Stores")))))))};function Re(){var e=Object(N.a)(["\n  mutation createStore($storeName: String!, $latitude: Float!, $longitude: Float!,\n    $addressOne: String!, $phoneNumber: String!, $email: String!, $imageUrl: String!){\n      createStore(storeName: $storeName, latitude: $latitude, longitude: $longitude,\n        addressOne: $addressOne, phoneNumber: $phoneNumber, email: $email, imageUrl: $imageUrl){\n          storeName\n        }\n    }"]);return Re=function(){return e},e}function Le(){var e=Object(N.a)(["\n  query getStores{\n    getStores{\n      storeName\n      id\n    }\n  }"]);return Le=function(){return e},e}var Te=Object(k.a)((function(e){return{storesRoot:{padding:100},paper:{width:"100%"},button:{marginTop:10}}}));var ze=function(e){var t=Te(),a=r.a.useState(!1),n=Object(te.a)(a,2),o=n[0],i=n[1],l=Object(_.a)(Me),c=l.loading,m=l.error,s=l.data;return c?r.a.createElement("div",null,r.a.createElement("h1",null,"Loading....")):m?r.a.createElement("div",null,r.a.createElement("h1",null,"Something bad happend. Contact support.")):r.a.createElement(x.a,{container:!0,className:t.storesRoot},r.a.createElement(U.a,{className:t.paper},r.a.createElement(me.a,null,r.a.createElement(se.a,null,r.a.createElement(fe.a,null,r.a.createElement(de.a,null,"Coffee Shops"))),r.a.createElement(ue.a,null,s.getStores.map((function(e){return r.a.createElement(fe.a,{key:e.id},r.a.createElement(de.a,{key:e.id},r.a.createElement(Ue.a,{key:e.id,href:"/store/".concat(e.id)},e.storeName)))}))))),o?r.a.createElement(A,{formName:"Create Store Form",fields:{storeName:"String",latitude:"Float",longitude:"Float",addressOne:"String",phoneNumber:"String",email:"String"},imageUpload:!0,mutation:Ae,props:e}):null,o?null:r.a.createElement(F.a,{variant:"contained",className:t.button,onClick:function(e){!function(e){e.preventDefault(),i(!o)}(e)}},"Create Store"))},Me=y()(Le()),Ae=y()(Re());function De(){var e=Object(N.a)(["\n  mutation createCoffee(\n    $storeName: String!,\n    $coffeeName: String!,\n    $imageUrl: String!,\n    $description: String!\n  ){\n    createCoffee(\n      storeName: $storeName,\n      coffeeName: $coffeeName,\n      imageUrl: $imageUrl,\n      description: $description\n    ){\n      coffeeName\n      description\n    }\n  }"]);return De=function(){return e},e}function Pe(){var e=Object(N.a)(["\n  query getCoffees($storeId: String!){\n    getCoffees(storeId: $storeId){\n      id\n      storeId\n      coffeeName\n      imageUrl\n      description\n    }\n  }"]);return Pe=function(){return e},e}var qe=Object(k.a)((function(e){return{coffeesRoot:{position:"absolute",top:"10px",right:"120px",maxWidth:"300px"},error:{},loading:{}}}));var Be=function(e){var t=e.props,a=e.storeId,n=r.a.useState(!1),o=Object(te.a)(n,2),i=o[0],l=o[1],c=qe();console.log(a);var m=Object(_.a)(He,{variables:{storeId:a}}),s=m.loading,u=m.error,f=m.data;return s?r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(I.a,{className:c.loading},"Loading, please wait.")):u?r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(I.a,{className:c.error},"Something bad happened. Contact support.")):r.a.createElement(x.a,{className:c.coffeesRoot},r.a.createElement(U.a,{className:c.paper},r.a.createElement(me.a,null,r.a.createElement(se.a,null,r.a.createElement(fe.a,null,r.a.createElement(de.a,null,"This Stores Coffee List"))),r.a.createElement(ue.a,null,f.getCoffees.map((function(e){return r.a.createElement(fe.a,{key:e.id},r.a.createElement(de.a,{key:e.id},r.a.createElement(Ue.a,{key:e.id,href:"/coffee/".concat(e.id)},e.coffeeName)))})))),i?r.a.createElement(A,{formName:"Create Coffee Form",fields:{storeName:"String",coffeeName:"String",description:"String"},imageUpload:!0,mutation:Ve,props:t}):null,i?null:r.a.createElement(F.a,{variant:"contained",className:c.button,onClick:function(e){!function(e){e.preventDefault(),l(!i)}(e)}},"Create Coffee")))},He=y()(Pe()),Ve=y()(De());function _e(){var e=Object(N.a)(["\n  mutation deleteStore(\n    $id: String!\n  ){\n    deleteStore(\n      id: $id\n    ){\n      storeName\n    }\n  }"]);return _e=function(){return e},e}function We(){var e=Object(N.a)(["\n  mutation updateStore(\n    $storeName: String!,\n    $latitude: Float,\n    $longitude: Float,\n    $addressOne: String,\n    $phoneNumber: String,\n    $email: String,\n    $imageUrl: String\n  ){\n    updateStore(\n      storeName: $storeName,\n      latitude: $latitude,\n      longitude: $longitude,\n      addressOne: $addressOne,\n      phoneNumber: $phoneNumber,\n      email: $email,\n      imageUrl: $imageUrl\n    ){\n      storeName\n      latitude\n      longitude\n      addressOne\n      phoneNumber\n      email\n      imageUrl\n    }\n  }"]);return We=function(){return e},e}function Je(){var e=Object(N.a)(["\n  query getStore($id: String){\n    getStore(id: $id){\n      storeName\n      latitude\n      longitude\n      addressOne\n      phoneNumber\n      email\n      imageUrl\n    }\n  }"]);return Je=function(){return e},e}var Ze=Object(k.a)((function(e){return{storeRoot:{}}}));var Ye=function(e){var t=Ze(),a=e.history.location.pathname.lastIndexOf("/"),n=e.history.location.pathname.slice(a+1),o=Object(_.a)(Ge,{variables:{id:n}}),i=o.loading,l=o.error,c=o.data;return i?r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(I.a,{className:t.storeRoot},"Loading, please wait.")):l?r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(I.a,{className:t.storeRoot},"Something bad happened. Contact support.")):r.a.createElement(x.a,{container:!0,justify:"center",className:t.storeRoot},r.a.createElement(A,{formName:"Update Store Form",fields:{storeName:"String",latitude:"Float",longitude:"Float",addressOne:"String",phoneNumber:"String",email:"String"},imageUpload:!0,mutation:Ke,props:e,defaultFields:c.getStore}),r.a.createElement(F.a,{variant:"contained",onClick:function(t){!function(t){j.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.next=3,j.a.awrap(e.client.mutate({mutation:Qe,variables:{id:n}}));case 3:e.history.push("/stores");case 4:case"end":return a.stop()}}))}(t)}},"DELETE"),r.a.createElement(Be,{props:e,storeId:n}))},Ge=y()(Je()),Ke=y()(We()),Qe=y()(_e()),Xe=a(74);var et=function(e){return r.a.createElement(Xe.a,e,r.a.createElement("path",{d:"M2.756,20.725h2.95c0.041,0.257,0.254,0.458,0.523,0.458h6.707c0.27,0,0.482-0.2,0.523-0.458h2.95\r c0.499,0,0.903-0.404,0.903-0.903H1.854C1.854,20.321,2.258,20.725,2.756,20.725z"}),r.a.createElement("path",{d:"M20.865,11.444c-0.752-0.609-1.811-0.619-2.508-0.542c0.02-0.486,0.031-0.983,0.031-1.5H0c0,4.97,0.752,8.556,5.511,9.894\r h7.366c1.885-0.529,3.135-1.418,3.964-2.6c1.806-0.035,4.711-0.746,4.82-3.24C21.708,12.364,21.254,11.758,20.865,11.444z\r M17.598,15.27c0.346-0.889,0.551-1.889,0.664-2.988c0.488-0.08,1.329-0.131,1.754,0.215c0.078,0.064,0.321,0.262,0.293,0.901\r C20.252,14.69,18.648,15.124,17.598,15.27z"}),r.a.createElement("path",{d:"M7.491,8.704c0,0,3.5-0.257,1.896-3.208c-1.288-2.369-0.994-3.759,0.654-5.015c0,0-5.398,1.375-2.25,5.63\r C8.946,7.965,7.491,8.704,7.491,8.704z"}),r.a.createElement("path",{d:"M9.85,8.468c0,0,2.804-0.591,1.278-2.846c-0.554-0.978,0.21-1.327,0.21-1.327s-1.805,0.057-1.043,1.608\r C10.905,7.15,10.724,7.858,9.85,8.468z"}))},tt=Object(k.a)((function(e){return{headerRoot:{position:"absolute",bottom:"auto",left:"10px",top:"10px",width:"400px",zIndex:1e3},paper:{padding:"10px"},title:{textDecoration:"none"},logo:{width:"40px",height:"40px"}}}));var at=function(){var e=tt();return r.a.createElement(x.a,{className:e.headerRoot},r.a.createElement(U.a,{className:e.paper},r.a.createElement(I.a,{variant:"h4",className:e.title},r.a.createElement(et,{className:e.logo,viewBox:"0 0 21.664 21.665"})," Coffee Maps")))},nt=a(279),rt=a(121),ot=a(281),it=a(119),lt=a.n(it),ct=Object(k.a)((function(e){return{panelRoot:{position:"absolute",bottom:"auto",top:"10px",right:"10px",zIndex:1e3}}}));var mt=function(){var e=ct(),t=r.a.useState(null),a=Object(te.a)(t,2),n=a[0],o=a[1],i=function(){o(null)};return r.a.createElement(x.a,{className:e.panelRoot},r.a.createElement(U.a,null,r.a.createElement(nt.a,{onClick:function(e){o(e.currentTarget)}},r.a.createElement(lt.a,{fontSize:"large"})),localStorage.getItem("token")?r.a.createElement(rt.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:i},r.a.createElement(ot.a,{onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("email"),localStorage.removeItem("role"),i()},component:c.b,to:"/login"},"Logout"),r.a.createElement(ot.a,{onClick:function(){i()},component:c.b,to:"/profile"},"Profile")):r.a.createElement(rt.a,{className:e.menu,id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:i},r.a.createElement(ot.a,{onClick:function(){return i()},component:c.b,to:"/login"},"Login"))))};function st(){var e=Object(N.a)(["\n    mutation deleteCoffee(\n      $id: String!,\n    ){\n      deleteCoffee(\n        id: $id\n      ){\n        coffeeName\n        imageUrl\n        description\n      }\n    }"]);return st=function(){return e},e}function ut(){var e=Object(N.a)(["\n  mutation updateCoffee(\n    $coffeeName: String!,\n    $imageUrl: String,\n    $description: String\n  ){\n    updateCoffee(\n      coffeeName: $coffeeName,\n      imageUrl: $imageUrl,\n      description: $description\n    ){\n      coffeeName\n      imageUrl\n      description\n    }\n  }"]);return ut=function(){return e},e}function ft(){var e=Object(N.a)(["\n  query getCoffee($id: String!){\n    getCoffee(id: $id){\n      id\n      storeId\n      coffeeName\n      imageUrl\n      description\n    }\n  }"]);return ft=function(){return e},e}var dt=Object(k.a)((function(e){return{error:{},loading:{}}}));var pt=function(e){var t=dt(),a=e.history.location.pathname.lastIndexOf("/"),n=e.history.location.pathname.slice(a+1),o=Object(_.a)(gt,{variables:{id:n}}),i=o.loading,l=o.error,c=o.data;return i?r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(I.a,{className:t.loading},"Loading, please wait.")):l?r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(I.a,{className:t.error},"Something bad happened. Contact support.")):r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(A,{formName:"Update Coffee Form",fields:{coffeeName:"String",description:"String"},imageUpload:!0,mutation:Et,props:e,defaultFields:c.getCoffee}),r.a.createElement(F.a,{variant:"contained",onClick:function(t){!function(t){j.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.next=3,j.a.awrap(e.client.mutate({mutation:ht,variables:{id:n}}));case 3:e.history.push("/stores");case 4:case"end":return a.stop()}}))}(t)}},"DELETE"))},gt=y()(ft()),Et=y()(ut()),ht=y()(st());function bt(e){var t=e.children;Object(l.a)(e,["children"]);return r.a.createElement(m.b,{render:function(e){return"ADMIN"===localStorage.getItem("role")?t:r.a.createElement(m.a,{to:{pathname:"/"}})}})}var vt=function(){return r.a.createElement(s.a,{client:v},r.a.createElement(c.a,null,r.a.createElement(at,null),r.a.createElement(mt,null),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",render:function(e){return r.a.createElement($e,Object.assign({},e,{client:v}))}}),r.a.createElement(m.b,{exact:!0,path:"/register",render:function(e){return localStorage.getItem("token")?r.a.createElement(m.a,{to:{pathname:"/"}}):r.a.createElement(H,Object.assign({},e,{client:v}))}}),r.a.createElement(m.b,{exact:!0,path:"/login",render:function(e){return localStorage.getItem("token")?r.a.createElement(m.a,{to:{pathname:"/"}}):r.a.createElement(P,Object.assign({},e,{client:v}))}}),r.a.createElement(m.b,{exact:!0,path:"/profile",render:function(e){return localStorage.getItem("token")?r.a.createElement(Z,Object.assign({},e,{client:v})):r.a.createElement(m.a,{to:{pathname:"/login"}})}}),r.a.createElement(m.b,{exact:!0,path:"/edit_profile",render:function(e){return localStorage.getItem("token")?r.a.createElement(Q,Object.assign({},e,{client:v})):r.a.createElement(m.a,{to:{pathname:"/login"}})}}),r.a.createElement(bt,null,r.a.createElement(m.b,{exact:!0,path:"/admin",render:function(e){return r.a.createElement(Fe,Object.assign({},e,{client:v}))}}),r.a.createElement(m.b,{exact:!0,path:"/stores",render:function(e){return r.a.createElement(ze,Object.assign({},e,{client:v}))}}),r.a.createElement(m.b,{path:"/store",render:function(e){return r.a.createElement(Ye,Object.assign({},e,{client:v}))}}),r.a.createElement(m.b,{path:"/coffee",render:function(e){return r.a.createElement(pt,Object.assign({},e,{client:v}))}})))))};C.a.defaults.headers.common.Authorization="Bearer".concat(" ",localStorage.getItem("token")),i.a.render(r.a.createElement(vt,null),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.bf989d33.chunk.js.map